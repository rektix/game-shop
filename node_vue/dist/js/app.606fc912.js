(function(e){function t(t){for(var a,i,o=t[0],c=t[1],l=t[2],u=0,d=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);m&&m(t);while(d.length)d.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},s=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var m=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"0a3f":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v(" | "),n("router-link",{attrs:{to:"/edit"}},[e._v("New Game")])],1),n("router-view")],1)},s=[],i=n("5530"),o=n("2f62"),c={name:"App",methods:Object(i["a"])({},Object(o["b"])(["load_games"])),mounted:function(){this.load_games()}},l=c,m=(n("034f"),n("2877")),u=Object(m["a"])(l,r,s,!1,null,null,null),d=u.exports,f=n("8c4f"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("Header"),n("b-container",[n("b-row",[n("b-col",{attrs:{cm:"6"}},[n("GameList")],1)],1)],1)],1)},h=[],g=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},b=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Game Catalog")])])}],v={name:"Header",computed:Object(i["a"])({},Object(o["c"])(["games"]))},w=v,_=(n("5b84"),Object(m["a"])(w,g,b,!1,null,"0f1ba7f9",null)),y=_.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.games.length?n("b-table",{attrs:{hover:"","sticky-header":"800px",items:e.games,fields:e.fields,"head-variant":"dark"},on:{"row-clicked":e.editGame},scopedSlots:e._u([{key:"cell(action)",fn:function(t){return[n("b-button",{attrs:{variant:"danger"},on:{click:function(n){return e.delete_game(t.item.id)}}},[e._v("Delete")])]}}],null,!1,216756780)}):n("h1",[e._v("No games")])],1)},O=[],x={name:"GameList",computed:Object(i["a"])({},Object(o["c"])(["games"])),data:function(){return{fields:[{key:"name"},{key:"genre"},{key:"score"},{key:"action"}]}},methods:Object(i["a"])(Object(i["a"])({},Object(o["b"])(["delete_game"])),{},{editGame:function(e){re.push({path:"/game/".concat(e.id)})}})},S=x,G=(n("a7c6"),Object(m["a"])(S,j,O,!1,null,null,null)),k=G.exports,N={name:"home",components:{Header:y,GameList:k}},P=N,E=Object(m["a"])(P,p,h,!1,null,null,null),C=E.exports,$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Header"),n("b-container",[n("b-row",[n("b-col",{attrs:{cm:"6"}},[e.edit?n("div",[n("EditGame",{attrs:{name:e.game.name,genre:e.game.genre,score:e.game.score,description:e.game.description,price:e.game.price}})],1):n("div",[e.games.length?n("ShowGame",{attrs:{game:e.game}}):e._e()],1)])],1),n("b-row",[n("b-col",{staticStyle:{"margin-top":"10px"},attrs:{cm:"2"}},[n("b-button",{attrs:{variant:"primary",size:"lg"},domProps:{innerHTML:e._s(e.edit?"Cancel":"Edit")},on:{click:e.toggleEdit}})],1)],1)],1)],1)},D=[],H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{attrs:{fluid:""}},[n("b-form",[n("b-row",{staticClass:"mt-2"},[n("b-col",{attrs:{sm:"3"}},[n("label",[e._v("Name:")])]),n("b-col",{attrs:{sm:"9"}},[n("b-form-input",{attrs:{type:"text",placeholder:"Name"},model:{value:e.newName,callback:function(t){e.newName=t},expression:"newName"}})],1)],1),n("b-row",{staticClass:"mt-2"},[n("b-col",{attrs:{sm:"3"}},[n("label",[e._v("Genre:")])]),n("b-col",{attrs:{sm:"9"}},[n("b-form-input",{attrs:{type:"text",placeholder:"Genre"},model:{value:e.newGenre,callback:function(t){e.newGenre=t},expression:"newGenre"}})],1)],1),n("b-row",{staticClass:"mt-2"},[n("b-col",{attrs:{sm:"3"}},[n("label",[e._v("Score:")])]),n("b-col",{attrs:{sm:"9"}},[n("b-form-input",{attrs:{type:"number",placeholder:"Score"},model:{value:e.newScore,callback:function(t){e.newScore=e._n(t)},expression:"newScore"}})],1)],1),n("b-row",{staticClass:"mt-2"},[n("b-col",{attrs:{sm:"3"}},[n("label",[e._v("Description:")])]),n("b-col",{attrs:{sm:"9"}},[n("b-form-textarea",{attrs:{type:"text",placeholder:"Description"},model:{value:e.newDescription,callback:function(t){e.newDescription=t},expression:"newDescription"}})],1)],1),n("b-row",{staticClass:"mt-2"},[n("b-col",{attrs:{sm:"3"}},[n("label",[e._v("Price:")])]),n("b-col",{attrs:{sm:"9"}},[n("b-form-input",{attrs:{type:"number",placeholder:"Price"},model:{value:e.newPrice,callback:function(t){e.newPrice=e._n(t)},expression:"newPrice"}})],1)],1),n("b-row",{staticClass:"mt-2"},[n("div",[n("b-button",{attrs:{variant:"primary",size:"lg"},on:{click:e.addNew}},[e._v("Save")])],1)])],1)],1)},M=[],T=(n("a4d3"),n("e01a"),n("b0c0"),n("a9e3"),{name:"EditGame",props:{name:{type:String,default:""},genre:{type:String,default:""},score:{type:Number,default:0},description:{type:String,default:""},price:{type:Number,default:0}},data:function(){return{newName:"",newGenre:"",newScore:0,newDescription:"",newPrice:0}},mounted:function(){this.newName=this.name,this.newGenre=this.genre,this.newScore=this.score,this.newDescription=this.description,this.newPrice=this.price},methods:Object(i["a"])(Object(i["a"])({},Object(o["b"])(["new_game","change_game"])),{},{validate:function(){return this.newName?this.newName.length<1||this.newName.length>60?(alert("Name must have less than 60 characters."),!1):this.newGenre?this.newGenre.length<1||this.newGenre.length>60?(alert("Genre must have less than 60 characters."),!1):this.newScore?this.newScore<1||this.newScore.length>10?(alert("Score must be between 1 and 10."),!1):this.newDescription?!!this.newPrice||(alert("Price is missing."),!1):(alert("Description is missing."),!1):(alert("Score is missing."),!1):(alert("Genre is missing."),!1):(alert("Name is missing."),!1)},addNew:function(){if(this.validate()){var e=JSON.stringify({name:this.newName,genre:this.newGenre,score:this.newScore,description:this.newDescription,price:this.newPrice});this.$route.params.id?this.change_game({id:this.$route.params.id,msg:e}):this.new_game(e)}}})}),L=T,J=Object(m["a"])(L,H,M,!1,null,"5508e90d",null),z=J.exports,I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-container",{attrs:{fluid:""}},[n("b-row",[n("b-col",{attrs:{sm:"2"}},[n("label",{attrs:{for:"user"}},[e._v("Name:")])]),n("b-col",{attrs:{sm:"10"}},[n("p",{staticStyle:{"text-align":"left"},attrs:{id:"user"}},[e._v(e._s(e.game.name))])])],1),n("b-row",{staticClass:"mt-2"},[n("b-col",{attrs:{sm:"2"}},[n("label",{attrs:{for:"msg"}},[e._v("Genre:")])]),n("b-col",{attrs:{sm:"10"}},[n("p",{staticStyle:{"text-align":"left"},attrs:{id:"msg"}},[e._v(e._s(e.game.genre))])])],1),n("b-row",{staticClass:"mt-2"},[n("b-col",{attrs:{sm:"2"}},[n("label",{attrs:{for:"msg"}},[e._v("Score:")])]),n("b-col",{attrs:{sm:"10"}},[n("p",{staticStyle:{"text-align":"left"},attrs:{id:"msg"}},[e._v(e._s(e.game.score))])])],1),n("b-row",{staticClass:"mt-2"},[n("b-col",{attrs:{sm:"2"}},[n("label",{attrs:{for:"msg"}},[e._v("Description:")])]),n("b-col",{attrs:{sm:"10"}},[n("p",{staticStyle:{"text-align":"left"},attrs:{id:"msg"}},[e._v(e._s(e.game.description))])])],1),n("b-row",{staticClass:"mt-2"},[n("b-col",{attrs:{sm:"2"}},[n("label",{attrs:{for:"msg"}},[e._v("Price:")])]),n("b-col",{attrs:{sm:"10"}},[n("p",{staticStyle:{"text-align":"left"},attrs:{id:"msg"}},[e._v("$"+e._s(e.game.price))])])],1)],1)},A=[],q={name:"ShowGame",props:{game:Object}},B=q,F=Object(m["a"])(B,I,A,!1,null,null,null),K=F.exports,Q={name:"Game",components:{Header:y,EditGame:z,ShowGame:K},data:function(){return{edit:!1}},computed:Object(i["a"])(Object(i["a"])({},Object(o["c"])(["games"])),{},{game:function(){for(var e=0;e<this.games.length;e++)if(this.games[e].id===parseInt(this.$route.params.id))return this.games[e]}}),methods:Object(i["a"])(Object(i["a"])({},Object(o["b"])(["load_games"])),{},{toggleEdit:function(){this.edit=!this.edit}})},R=Q,U=Object(m["a"])(R,$,D,!1,null,"b26c98da",null),V=U.exports,W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("Header"),n("b-container",[n("b-row",[n("b-col",{attrs:{cm:"6"}},[n("EditGame")],1)],1)],1)],1)},X=[],Y={name:"NewMessage",components:{Header:y,EditGame:z}},Z=Y,ee=Object(m["a"])(Z,W,X,!1,null,"08d38582",null),te=ee.exports;a["default"].use(f["a"]);var ne=[{path:"/",name:"home",component:C},{path:"/edit",name:"newGame",component:te},{path:"/game/:id",name:"game",component:V}],ae=new f["a"]({mode:"history",base:"/",routes:ne}),re=ae;n("a434"),n("d3b7");a["default"].use(o["a"]);var se=new o["a"].Store({state:{games:[]},mutations:{set_games:function(e,t){e.games=t},add_game:function(e,t){e.games.push(t)},remove_game:function(e,t){for(var n=0;n<e.games.length;n++)if(e.games[n].id===t){e.games.splice(n,1);break}},update_game:function(e,t){for(var n=0;n<e.games.length;n++)if(e.games[n].id===parseInt(t.id)){e.games[n].name=t.msg.name,e.games[n].genre=t.msg.genre,e.games[n].score=t.msg.score,e.games[n].description=t.msg.description,e.games[n].price=t.msg.price;break}}},actions:{load_games:function(e){var t=e.commit;fetch("http://localhost/api/games",{method:"get"}).then((function(e){if(!e.ok)throw e;return e.json()})).then((function(e){t("set_games",e)})).catch((function(e){"function"===typeof e.text?e.text().then((function(e){alert(e)})):alert(e)}))},delete_game:function(e,t){var n=e.commit;fetch("http://localhost/api/games/".concat(t),{method:"delete"}).then((function(e){if(!e.ok)throw e;return e.json()})).then((function(e){n("remove_game",e.id)})).catch((function(e){"function"===typeof e.text?e.text().then((function(e){alert(e)})):alert(e)}))},new_game:function(e,t){var n=e.commit;fetch("http://localhost/api/games",{method:"post",headers:{"Content-Type":"application/json"},body:t}).then((function(e){if(!e.ok)throw e;return e.json()})).then((function(e){n("add_game",e)})).catch((function(e){"function"===typeof e.text?e.text().then((function(e){alert(e)})):alert(e)}))},change_game:function(e,t){var n=e.commit;console.log(t),fetch("http://localhost/api/games/".concat(t.id),{method:"put",headers:{"Content-Type":"application/json"},body:t.msg}).then((function(e){if(console.log(e),!e.ok)throw e;return e.json()})).then((function(e){n("update_game",{id:t.id,msg:e})})).catch((function(e){"function"===typeof e.text?e.text().then((function(e){alert(e)})):alert(e)}))}}}),ie=n("5f5b");n("f9e3"),n("2dd8");a["default"].use(ie["a"]),a["default"].config.productionTip=!1,new a["default"]({router:re,store:se,render:function(e){return e(d)}}).$mount("#app")},"59dd":function(e,t,n){},"5b84":function(e,t,n){"use strict";n("0a3f")},"85ec":function(e,t,n){},a7c6:function(e,t,n){"use strict";n("59dd")}});
//# sourceMappingURL=app.606fc912.js.map